@model MusicLibraryTest2.Models.ProfileModel
<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<head>
    <link rel="stylesheet" href="~/Content/Site.css" />
</head>

@Html.Action("ShowNavbar", "Home")
<br /><br />


<body>
    <div class="mainBox">

        @Html.ActionLink("User List", "UserList", new { sortBy = "id", isAscending = true })
        <span style="margin: 0 10px;">|</span>
        @Html.ActionLink("Song List", "SongList", new { sortBy = "created", isAscending = false })
        <span style="margin: 0 10px;">|</span>

        <img style="width: 100%; height: 100%;" src="~/Content/guitar-756326_1920.jpg" />

    </div>
</body>


<script>
    $(document).ready(function () {

        $('.get-add-music').click(function () {

            var loaded = false;
            var $addMusicContainer = $('#add-music-container')

            if (!loaded) {
                $.ajax({
                data: null,
                url: '/ArtistPages/AddMusic',
                    success: function(data) {
                        $addMusicContainer.html(data);
                        loaded = true;
                    }
                });
            }
            $(this).find('.triangle').toggleClass('rotate');
            $addMusicContainer.toggle();
        });
        $('.get-albums').click(function () {

            var loaded = false;
            var $albumsContainer = $('#albums-container')

            if (!loaded) {
                $.ajax({
                url: '/ArtistPages/GetUserAlbums',
                data: { userId: '@(Model?.Id ?? 0)' },
                    success: function(data) {
                        $albumsContainer.html(data);
                        loaded = true;
                    }
                });
            }
            $(this).find('.triangle').toggleClass('rotate');
            $albumsContainer.toggle();
        });
    });
</script>
